//
//  main.cpp
//  bishop jump
//
//  Created by Guest User on 2020/03/21.
//  Copyright Â© 2020 Guest User. All rights reserved.
//

#include <iostream>
#include <set>
#include <string>

using namespace std;

set<string> s;
string board = "B...............................................................";

void printBoard() {
    int i, j;
    
    for (i = 0; i < 8; i++) {
        for (j = 0; j < 8; j++) {
            cout << board[i * 8 + j];
        }
        cout << "\n";
    }
    cout << "\n";
}

bool solve(int r, int c, int k) {
    int i, j, x, y;
    bool result;
    
    if (k == 63) {
        printBoard();
        return true;
    }
    
    if (s.find(board) != s.end()) return false;
    s.insert(board);
    
    for (i = 1; i <= 2; i++) {
        for (j = 1; j <= 2; j++) {
            if (i == j) continue;
            x = r - i;
            y = c - j;
            if (x >= 0 && x <= 7 && y >= 0 && y <= 7 && board[x * 8 + y] == '.') {
                board[r * 8 + c] = '#';
                board[x * 8 + y] = 'B';
                result = solve(x, y, k + 1);
                board[r * 8 + c] = 'B';
                board[x * 8 + y] = '.';
                if (result == true) {
                    printBoard();
                    return true;
                }
            }
            
            x = r - i;
            y = c + j;
            if (x >= 0 && x <= 7 && y >= 0 && y <= 7 && board[x * 8 + y] == '.') {
                board[r * 8 + c] = '#';
                board[x * 8 + y] = 'B';
                result = solve(x, y, k + 1);
                board[r * 8 + c] = 'B';
                board[x * 8 + y] = '.';
                if (result == true) {
                    printBoard();
                    return true;
                }
            }
            
            x = r + i;
            y = c - j;
            if (x >= 0 && x <= 7 && y >= 0 && y <= 7 && board[x * 8 + y] == '.') {
                board[r * 8 + c] = '#';
                board[x * 8 + y] = 'B';
                result = solve(x, y, k + 1);
                board[r * 8 + c] = 'B';
                board[x * 8 + y] = '.';
                if (result == true) {
                    printBoard();
                    return true;
                }
            }
            
            x = r + i;
            y = c + j;
            if (x >= 0 && x <= 7 && y >= 0 && y <= 7 && board[x * 8 + y] == '.') {
                board[r * 8 + c] = '#';
                board[x * 8 + y] = 'B';
                result = solve(x, y, k + 1);
                board[r * 8 + c] = 'B';
                board[x * 8 + y] = '.';
                if (result == true) {
                    printBoard();
                    return true;
                }
            }
        }
    }
    
    return false;
}

int main(int argc, const char * argv[]) {
    solve(0, 0, 0);
    
    return 0;
}

/*
#######B
########
########
########
########
########
########
########

#######.
########
######B#
########
########
########
########
########

#######.
########
######.#
########
#####B##
########
########
########

#######.
########
######.#
#######B
#####.##
########
########
########

#######.
########
######.#
#######.
#####.##
######B#
########
########

#######.
########
######.#
#######.
#####.##
######.#
########
#######B

#######.
########
######.#
#######.
#####.##
######.#
#####B##
#######.

#######.
########
######.#
#######.
#####.##
######.#
#####.##
###B###.

#######.
########
######.#
#######.
#####.##
######.#
#B###.##
###.###.

#######.
########
######.#
#######.
B####.##
######.#
#.###.##
###.###.

#######.
########
######.#
#######.
.####.##
##B###.#
#.###.##
###.###.

#######.
########
######.#
#######.
.###B.##
##.###.#
#.###.##
###.###.

#######.
########
######.#
######B.
.###..##
##.###.#
#.###.##
###.###.

#######.
########
######.#
######..
.###..##
##.###.B
#.###.##
###.###.

#######.
########
######.#
######..
.###..##
##.###..
#.###.##
###.##B.

#######.
########
######.#
######..
.###..##
##.###..
#.##B.##
###.##..

#######.
########
######.#
######..
.###..##
##.###..
#.##..##
##B.##..

#######.
########
######.#
######..
.###..##
##.###..
B.##..##
##..##..

#######.
########
######.#
######..
.B##..##
##.###..
..##..##
##..##..

#######.
########
######.#
######..
..##..##
##.B##..
..##..##
##..##..

#######.
########
######.#
####B#..
..##..##
##..##..
..##..##
##..##..

#######.
########
######.#
####.#..
..##..B#
##..##..
..##..##
##..##..

#######.
########
######.#
####.#..
..##...#
##..##..
..##..#B
##..##..

#######.
########
######.#
####.#..
..##...#
##..##..
..##..#.
##..#B..

#######.
########
######.#
####.#..
..##...#
##..B#..
..##..#.
##..#...

#######.
########
######.#
####.#..
..##...#
##...#..
..##..B.
##..#...

#######.
########
######.#
####.#..
..##...#
##...#..
..##....
##..B...

#######.
########
######.#
####.#..
..##...#
##...#..
..B#....
##......

#######.
########
######.#
####.#..
..##...#
##...#..
...#....
B#......

#######.
########
######.#
####.#..
..##...#
#B...#..
...#....
.#......

#######.
########
######.#
B###.#..
..##...#
#....#..
...#....
.#......

#######.
########
######.#
.###.#..
..B#...#
#....#..
...#....
.#......

#######.
########
######.#
.###.#..
...#...#
B....#..
...#....
.#......

#######.
########
######.#
.###.#..
...#...#
.....#..
...#....
.B......

#######.
########
######.#
.###.#..
...#...#
.....#..
...B....
........

#######.
########
######.#
.###.#..
...#...#
.....B..
........
........

#######.
########
######.#
.###.#..
...#...B
........
........
........

#######.
########
######.#
.###.B..
...#....
........
........
........

#######.
########
######.#
.###....
...B....
........
........
........

#######.
########
######.#
.B##....
........
........
........
........

#######.
########
###B##.#
..##....
........
........
........
........

#######.
#B######
###.##.#
..##....
........
........
........
........

###B###.
#.######
###.##.#
..##....
........
........
........
........

###.###.
#.###B##
###.##.#
..##....
........
........
........
........

###.###.
#.###.##
###.##.B
..##....
........
........
........
........

###.##B.
#.###.##
###.##..
..##....
........
........
........
........

###.##..
#.##B.##
###.##..
..##....
........
........
........
........

###.##..
#.##..##
##B.##..
..##....
........
........
........
........

###.##..
B.##..##
##..##..
..##....
........
........
........
........

##B.##..
..##..##
##..##..
..##....
........
........
........
........

##..##..
..##..##
#B..##..
..##....
........
........
........
........

##..##..
..##..##
#...##..
..#B....
........
........
........
........

##..##..
..##..##
#...#B..
..#.....
........
........
........
........

##..##..
..##..#B
#...#...
..#.....
........
........
........
........

##..#B..
..##..#.
#...#...
..#.....
........
........
........
........

##..#...
..#B..#.
#...#...
..#.....
........
........
........
........

#B..#...
..#...#.
#...#...
..#.....
........
........
........
........

#...#...
..#...#.
B...#...
..#.....
........
........
........
........

#...#...
..#...#.
....#...
..B.....
........
........
........
........

#...#...
..#...#.
....B...
........
........
........
........
........

#...#...
..#...B.
........
........
........
........
........
........

#...B...
..#.....
........
........
........
........
........
........

#.......
..B.....
........
........
........
........
........
........

B.......
........
........
........
........
........
........
........
*/

